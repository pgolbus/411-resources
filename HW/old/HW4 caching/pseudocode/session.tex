\begin{algorithm}
\caption{``Log in''}
    \begin{algorithmic}
        \REQUIRE $user\_id$ (int), $battle\_model$ (\texttt{BattleModel})
        \STATE Lookup $user\_id$ in mongo
        \IF{$user\_id$ is found}
            \STATE Clear current combatants from $battle\_model$
            \FOR{$combatant$ in db record}
                \STATE prep $combatant$
            \ENDFOR
        \ELSE
            \STATE create record in mongo with empty $combatants$
        \ENDIF
    \end{algorithmic}
\end{algorithm}

\begin{algorithm}
    \caption{``Log out''}
        \begin{algorithmic}
            \REQUIRE $user\_id$ (int), $battle\_model$ (\texttt{BattleModel})
            \STATE $combatants\_data$ \gets combatants in $battle\_model$
            \STATE Update record for $user\_id$ in mongo
            \IF{$user\_id$ not found}
                \THROW
            \ENDIF
            \STATE Clear combatants in $battle\_model$
        \end{algorithmic}
    \end{algorithm}